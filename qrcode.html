<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>pinceee konverter — QR Code Generator</title>
  <meta name="description" content="Konversi link menjadi QR Code — pinceee konverter" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />
  <style>
    :root{
      --bg1: #0f172a; /* dark navy */
      --bg2: #0b1220;
      --accent: linear-gradient(90deg,#6ee7b7,#60a5fa,#c084fc);
      --card: rgba(255,255,255,0.04);
      --glass: rgba(255,255,255,0.06);
      --muted: rgba(255,255,255,0.7);
      --radius: 14px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      min-height:100%;
      background: radial-gradient(1000px 600px at 10% 10%, rgba(96,165,250,0.08), transparent),
                  radial-gradient(1000px 600px at 90% 90%, rgba(192,132,252,0.06), transparent),
                  linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:48px 20px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:24px;
      flex-direction:column;
    }

    .container{
      width:100%;
      max-width:1100px;
      display:grid;
      grid-template-columns: 1fr 420px;
      gap:28px;
      align-items:start;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      padding:28px;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      backdrop-filter: blur(6px);
    }

    header h1{
      margin:0 0 6px 0;
      font-size:28px;
      letter-spacing:0.4px;
    }
    header p{margin:0;color:var(--muted)}

    .controls{margin-top:18px;display:flex;gap:12px;align-items:center}
    .controls input[type=text]{
      flex:1;padding:12px 14px;border-radius:10px;border:0;background:var(--glass);color:inherit;outline:none;font-size:15px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
    }
    .controls button{padding:11px 14px;border-radius:10px;border:0;background:transparent;color:inherit;font-weight:600;
      cursor:pointer;transition:all .18s;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.06)}
    .controls button.primary{
      background:var(--accent);color:#041024;border:0;padding:11px 16px;border-radius:10px;box-shadow:0 6px 18px rgba(96,165,250,0.14);
    }
    .controls button:active{transform:translateY(1px)}

    .hint{margin-top:10px;color:rgba(230,238,248,0.75);font-size:13px}

    /* preview column */
    .preview{
      display:flex;flex-direction:column;align-items:center;gap:18px;padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));min-height:260px;justify-content:center
    }
    .qr-box{display:flex;flex-direction:column;align-items:center;gap:12px}
    .qr-box #qrcode{background:#fff;padding:12px;border-radius:8px}
    .meta{font-size:13px;color:var(--muted);text-align:center}

    .actions{display:flex;gap:10px}
    .small{padding:8px 10px;border-radius:8px;font-size:14px}

    /* contact card */
    .contact{margin-top:16px;padding:14px;border-radius:10px;background:linear-gradient(90deg, rgba(110,231,183,.04), rgba(96,165,250,.03));border:1px solid rgba(255,255,255,0.03)}
    .contact h3{margin:0 0 6px 0}
    .contact p{margin:0;color:var(--muted)}

    footer{margin-top:18px;color:rgba(230,238,248,0.6);font-size:13px;text-align:center}

    /* responsive */
    @media (max-width:960px){
      .container{grid-template-columns: 1fr;}
      .preview{order:-1}
    }

    .logo{display:flex;gap:10px;align-items:center}
    .logo .mark{width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,#7ee787,#60a5fa);display:flex;align-items:center;justify-content:center;font-weight:800;color:#041024}
    .brand-sub{font-size:12px;color:var(--muted)}

    .toast{position:fixed;right:20px;bottom:20px;background:#0b1220;border-radius:10px;padding:12px 16px;border:1px solid rgba(255,255,255,0.04);box-shadow:0 8px 30px rgba(2,6,23,0.6);display:none}
  </style>
</head>
<body>
  <div class="container">
    <section class="card">
      <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
        <div>
          <div class="logo">
            <div class="mark">P</div>
            <div>
              <h1>pinceee konverter</h1>
              <div class="brand-sub">Konversi link jadi QR Code dengan cepat</div>
            </div>
          </div>
        </div>
        <div style="text-align:right">
          <div style="font-size:12px;color:var(--muted)">gratis</div>
        </div>
      </div>

      <p class="hint">Masukkan URL atau teks.</p>

      <div class="controls">
        <input id="inputLink" type="text" placeholder="Tempel/ketik URL (contoh: https://example.com)" value="" aria-label="URL untuk dikonversi" />
        <button id="genBtn" class="primary">Generate</button>
      </div>

      <div style="display:flex;gap:8px;margin-top:12px;flex-wrap:wrap">
        <button id="copyBtn">Copy Link</button>
        <button id="clearBtn">Clear</button>
      </div>

      <div class="contact" aria-label="Info kontak">
        <h3>Info Kontak</h3>
        <p>Email: <a href="mailto:fv183718@gmail.com" style="color:inherit;text-decoration:underline;">fv183718@gmail.com</a></p>
        <p>Channel YouTube: <a href="https://www.youtube.com/@feri_1" target="_blank" style="color:inherit;text-decoration:underline;"><strong>Feri Rmnsyah</strong></a></strong></p>
      </div>

      <footer>
        Dibuat pinceeee 2025.
      </footer>
    </section>

    <aside class="card preview">
      <div class="qr-box">
        <div id="qrcode">(Belum ada QR)</div>
        <div class="meta" id="metaText">QR preview akan muncul di sini</div>
      </div>

      <div class="actions">
        <button id="downloadBtn" class="small">Download PNG</button>
        <button id="scanBtn" class="small">Scan dari layar</button>
      </div>

      <div style="font-size:12px;color:var(--muted);margin-top:6px;text-align:center;max-width:300px">
        Tips: Untuk hasil terbaik, gunakan URL lengkap (dengan <code>https://</code>), dan pastikan ukuran QR cukup besar saat dipindai.
      </div>
    </aside>
  </div>

  <div class="toast" id="toast"></div>

 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script>
    // ===== FIX TOTAL: QR SELALU MUNCUL & BISA DIDOWNLOAD =====

    const inputLink = document.getElementById('inputLink');
    const genBtn = document.getElementById('genBtn');
    const qrcodeEl = document.getElementById('qrcode');
    const metaText = document.getElementById('metaText');
    const downloadBtn = document.getElementById('downloadBtn');
    const copyBtn = document.getElementById('copyBtn');
    const clearBtn = document.getElementById('clearBtn');
    const toast = document.getElementById('toast');

    let qr;

    function showToast(text, timeout = 2200) {
      toast.textContent = text;
      toast.style.display = 'block';
      setTimeout(() => toast.style.display = 'none', timeout);
    }

    function generate() {
      const val = inputLink.value.trim();
      if (!val) {
        showToast('Masukkan link terlebih dahulu');
        return;
      }

      // Hapus QR lama
      qrcodeEl.innerHTML = '';

      // Buat QR (pakai canvas langsung supaya stabil)
      qr = new QRCode(qrcodeEl, {
        text: val,
        width: 220,
        height: 220,
        correctLevel: QRCode.CorrectLevel.H
      });

      metaText.textContent = val.length > 60 ? val.slice(0, 60) + '...' : val;
      showToast('QR berhasil dibuat!');
    }

    genBtn.addEventListener('click', generate);
    inputLink.addEventListener('keydown', e => { if (e.key === 'Enter') generate(); });

    copyBtn.addEventListener('click', async () => {
      const val = inputLink.value.trim();
      if (!val) return showToast('Tidak ada link untuk disalin');
      await navigator.clipboard.writeText(val);
      showToast('Link disalin');
    });

    clearBtn.addEventListener('click', () => {
      inputLink.value = '';
      qrcodeEl.innerHTML = '(Belum ada QR)';
      metaText.textContent = 'QR preview akan muncul di sini';
      showToast('Dikosongkan');
    });

    // ===== FIX DOWNLOAD =====
    downloadBtn.addEventListener('click', () => {
      let canvas = qrcodeEl.querySelector('canvas');

      if (!canvas) {
        showToast('Belum ada QR untuk di-download');
        return;
      }

      const dataURL = canvas.toDataURL('image/png');

      const a = document.createElement('a');
      a.href = dataURL;
      a.download = 'pinceee-qrcode.png';
      document.body.appendChild(a);
      a.click();
      a.remove();

      showToast('QR berhasil diunduh!');
    });

  </script>
</body>
</html>
